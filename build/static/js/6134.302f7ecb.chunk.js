"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[6134,5831],{16027:(t,e,a)=>{a.d(e,{Af:()=>C,C7:()=>L,CB:()=>R,Ec:()=>$,F3:()=>h,GV:()=>Y,HD:()=>F,HJ:()=>g,I9:()=>P,JQ:()=>j,K$:()=>v,Kl:()=>D,Kz:()=>z,LB:()=>_,Lx:()=>i,Nw:()=>A,P2:()=>V,QQ:()=>l,Rs:()=>w,Sv:()=>H,Um:()=>S,VR:()=>p,X9:()=>O,Y$:()=>N,Yv:()=>f,Yw:()=>y,_B:()=>W,ch:()=>M,fw:()=>B,gT:()=>J,h0:()=>G,hg:()=>b,jS:()=>K,jw:()=>I,k6:()=>T,o_:()=>m,pb:()=>U,r$:()=>k,rp:()=>Q,u9:()=>d,um:()=>q,v7:()=>u,w4:()=>E,wr:()=>x});var c=a(77154),n=a(1880);const r="https://leadplanner.lotusx.shop/api/",o=c.A.create({baseURL:r,headers:{"Content-Type":"application/json"}}),s=()=>{const t=n.A.get("accessToken");t&&(o.defaults.headers.common.Authorization="Bearer ".concat(t))};s(),o.interceptors.response.use((t=>t),(t=>(t.response&&401===t.response.status&&(window.location.href="/admin-login"),Promise.reject(t))));const i=async t=>{try{const e=await o.post("".concat(r,"/admin/login"),t);if(e.data.success){const t=e.data.data.token;n.A.set("accessToken",t,{secure:!0,sameSite:"strict"});const a=e.data.data.name;n.A.set("name",a,{secure:!0,sameSite:"strict"});const c=e.data.data.id;n.A.set("adminId",c,{secure:!0,sameSite:"strict"}),s()}return e.data}catch(e){throw console.log("error",e),e}},l=async()=>{try{return(await o.get("".concat(r,"/organization"))).data}catch(t){throw t}},d=async t=>{try{return(await o.get("".concat(r,"/organization/").concat(t))).data}catch(e){throw e}},h=async t=>{try{return(await o.post("".concat(r,"/organization"),t)).data}catch(e){throw e}},u=async t=>{try{return(await o.delete("".concat(r,"/organization/").concat(t))).data}catch(e){throw e}},m=async(t,e)=>{try{return(await o.patch("".concat(r,"/organization/").concat(t),e)).data}catch(a){throw a}},w=async()=>{try{return(await o.get("".concat(r,"/teacher"))).data}catch(t){throw t}},p=async t=>{try{return(await o.get("".concat(r,"/teacher/by-organization/").concat(t))).data}catch(e){throw e}},y=async t=>{try{return(await o.post("".concat(r,"/teacher"),t)).data}catch(e){throw e}},x=async t=>{try{return(await o.delete("".concat(r,"/teacher/").concat(t))).data}catch(e){throw e}},g=async(t,e)=>{try{return(await o.patch("".concat(r,"/teacher/").concat(t),e)).data}catch(a){throw a}},j=async()=>{try{return(await o.get("".concat(r,"/levels"))).data}catch(t){throw t}},v=async t=>{try{return(await o.post("".concat(r,"/levels"),t)).data}catch(e){throw e}},f=async t=>{try{return(await o.delete("".concat(r,"/levels/").concat(t))).data}catch(e){throw e}},b=async(t,e)=>{try{return(await o.patch("".concat(r,"/levels/").concat(t),e)).data}catch(a){throw a}},_=async t=>{try{return(await o.get("".concat(r,"/question/by_level/").concat(t))).data}catch(e){throw e}},C=async t=>{try{return(await o.post("".concat(r,"/question"),t)).data}catch(e){throw e}},S=async t=>{try{return(await o.delete("".concat(r,"/question/").concat(t))).data}catch(e){throw e}},A=async(t,e)=>{try{return(await o.patch("".concat(r,"/question/").concat(t),e)).data}catch(a){throw a}},P=async t=>{try{return(await o.get("".concat(r,"/student"))).data}catch(e){throw e}},T=async t=>{try{return(await o.get("".concat(r,"/student/organization/").concat(t))).data}catch(e){throw e}},I=async t=>{try{return(await o.post("".concat(r,"/student"),t)).data}catch(e){throw e}},k=async t=>{try{return(await o.delete("".concat(r,"/student/").concat(t))).data}catch(e){throw e}},N=async(t,e)=>{try{return(await o.patch("".concat(r,"/student/").concat(t),e)).data}catch(a){throw a}},R=async()=>{try{return(await o.get("".concat(r,"/exam"))).data}catch(t){throw t}},z=async t=>{try{return(await o.get("".concat(r,"/exam/").concat(t))).data}catch(e){throw e}},B=async t=>{try{return(await o.get("".concat(r,"/exam/get-exam-student-by-exam-id/").concat(t))).data}catch(e){throw e}},O=async t=>{try{return(await o.delete("".concat(r,"/exam/removed-student-from-exam/").concat(t))).data}catch(e){throw e}},q=async t=>{try{return(await o.delete("".concat(r,"/exam/removed-question-from-exam/").concat(t))).data}catch(e){throw e}},U=async t=>{try{return(await o.post("".concat(r,"/exam"),t)).data}catch(e){throw e}},F=async t=>{try{return(await o.delete("".concat(r,"/exam/").concat(t))).data}catch(e){throw e}},H=async(t,e)=>{try{return(await o.patch("".concat(r,"/exam/").concat(t),e)).data}catch(a){throw a}},L=async t=>{try{return(await o.get("".concat(r,"/exam/by-organization-id-for-admin/").concat(t))).data}catch(e){throw e}},E=async t=>{try{return(await o.get("".concat(r,"/exam/get-exam-qestion-by-exam-id/").concat(t))).data}catch(e){throw e}},G=async t=>{try{return(await o.post("".concat(r,"/exam/add-exam-student"),t)).data}catch(e){throw e}},Q=async t=>{try{return(await o.post("".concat(r,"/exam/organization-student-not-exit"),t)).data}catch(e){throw e}},D=async t=>{try{return(await o.post("".concat(r,"/exam/question-not-exit"),t)).data}catch(e){throw e}},Y=async t=>{try{return(await o.post("".concat(r,"/exam/add-exam-question"),t)).data}catch(e){throw e}},V=async t=>{try{return(await o.get("".concat(r,"/exam/schedule-exam/").concat(t))).data}catch(e){throw e}},K=async t=>{try{return(await o.get("".concat(r,"/exam-submission/by-examination-id/").concat(t))).data}catch(e){throw e}},$=async t=>{try{return(await o.post("".concat(r,"/exam/update-student-certificate"),t)).data}catch(e){throw e}},W=async t=>{try{return(await o.get("".concat(r,"/exam/update-student-certificate-generate/").concat(t))).data}catch(e){throw e}},J=async t=>{try{return(await o.get("".concat(r,"/exam/recent/dashboard"))).data}catch(e){throw e}},M=async t=>{try{return(await o.post("".concat(r,"/question/bulk"),t)).data}catch(e){throw e}}},6134:(t,e,a)=>{a.r(e),a.d(e,{default:()=>p});var c=a(65043),n=a(85369),r=a(93946),o=a(84718),s=a(64237),i=a(16027),l=a(42145),d=(a(2574),a(30064)),h=a.n(d),u=a(73216),m=a(80519),w=a(70579);const p=function(){const[t,e]=(0,c.useState)([]),[a,d]=(0,c.useState)(null),[p,y]=(0,c.useState)("Add Levels"),[x,g]=(0,c.useState)(""),j=(0,u.Zp)(),[v,f]=(0,c.useState)({name:"",description:"",imgUrl:""});(0,c.useEffect)((()=>{b()}),[]);const b=async()=>{const t=await(0,i.JQ)();console.log(t),t.success&&e(t.data)},_=t=>{g(t)},C=[{Header:"Name",accessor:"name"},{Header:"Description",accessor:"description"},{Header:"Status",accessor:"status",Cell:t=>{let{row:e}=t;return(0,w.jsx)(w.Fragment,{children:e.original.status?"Active":"Inactive"})}},{Header:"createdAt",accessor:"createdAt",Cell:t=>{let{row:e}=t;return(0,w.jsx)(w.Fragment,{children:e.original.createdAt?e.original.createdAt.slice(0,10):""})}},{Header:"Actions",accessor:"_id",Cell:e=>{let{row:a}=e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(r.Q_,{color:"success",size:"sm",style:{color:"white"},onClick:()=>(async t=>{console.log(t),j("/questions/".concat(t))})(a.original._id),children:[(0,w.jsx)(n.E5P,{})," Question"]})," ",(0,w.jsxs)(r.Q_,{color:"info",size:"sm",style:{color:"white"},onClick:()=>(e=>{y("Update Level");const a=t.find((t=>t._id===e));console.log(a),d(a._id),g(a.imgUrl),f({name:a.name,description:a.description,imgUrl:a.imgUrl})})(a.original._id),children:[(0,w.jsx)(n.uO9,{})," Edit"]})," ",(0,w.jsxs)(r.Q_,{color:"danger",size:"sm",style:{color:"white"},onClick:()=>(async t=>{if((await h().fire({title:"Are you sure?",text:"You will not be able to recover this level!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{const e=await(0,i.Yv)(t);e.success&&(l.oR.success(e.message,{position:l.oR.POSITION.TOP_RIGHT,autoClose:3e3}),b())}catch(e){l.oR.error(e.message,{position:l.oR.POSITION.TOP_RIGHT,autoClose:3e3})}})(a.original._id),children:[(0,w.jsx)(n.qbC,{})," Delete"]})]})}}];return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.A,{customStyles:()=>{const t=(0,c.useRef)(),e=t=>{const{name:e,value:a,files:c}=t.target;f((t=>({...t,[e]:"file"===e?c[0]:a})))};return(0,w.jsxs)(r.qI,{ref:t,className:"row g-3 needs-validation",noValidate:!0,onSubmit:async e=>{e.preventDefault(),e.stopPropagation();const c=t.current;if(!1===c.checkValidity())return c.classList.add("was-validated"),""==v.is_type||null==v.is_type?void setIsTypeSelected(!0):void 0;let n=null;if(v.imgUrl=x,console.log(v),a?n=await(0,i.hg)(a,v):(n=await(0,i.K$)(v),d(null)),n.success){l.oR.success(n.message,{position:l.oR.POSITION.TOP_RIGHT,autoClose:3e3}),b(),y("Add Level"),f({name:"",description:"",imgUrl:""}),g("");const t=document.getElementById("fileInput");t&&(t.value=""),c.classList.remove("was-validated")}else l.oR.error(n.message,{position:l.oR.POSITION.TOP_RIGHT,autoClose:3e3})},children:[(0,w.jsxs)(r.UF,{md:4,children:[(0,w.jsx)(r.A6,{children:"Level Name"}),(0,w.jsx)(r.OG,{type:"text",placeholder:"Enter Level Name",name:"name",required:!0,value:v.name,onChange:e}),(0,w.jsx)(r.To,{invalid:!0,children:"Please enter level name"})]}),(0,w.jsxs)(r.UF,{md:4,children:[(0,w.jsx)(r.A6,{children:"Description"}),(0,w.jsx)(r.OG,{type:"text",name:"description",placeholder:"Enter description",required:!0,value:v.description,onChange:e}),(0,w.jsx)(r.To,{invalid:!0,children:"Please enter description"})]}),(0,w.jsxs)(r.UF,{md:4,children:[(0,w.jsx)(r.A6,{children:" Level Logo"}),(0,w.jsx)(m.A,{onUpload:_,img:x}),(0,w.jsx)(r.To,{invalid:!0,children:"Example invalid form file feedback"})]}),(0,w.jsx)(r.UF,{xs:12,className:"d-flex justify-content-end",children:(0,w.jsx)(r.Q_,{color:"primary",type:"submit",children:p})})]})},title:"Level Master"}),(0,w.jsx)(o.A,{columns:C,data:t})]})}},84718:(t,e,a)=>{a.d(e,{A:()=>d});var c=a(65043),n=a(71094),r=a(61270),o=a(68155),s=a(64196),i=a(11238),l=a(70579);const d=t=>{let{columns:e,data:a,name:d}=t;const{getTableProps:h,getTableBodyProps:u,headerGroups:m,prepareRow:w,page:p,state:{pageIndex:y,pageSize:x,globalFilter:g},setGlobalFilter:j,gotoPage:v,nextPage:f,previousPage:b,canNextPage:_,canPreviousPage:C}=(0,n.useTable)({columns:e,data:a,initialState:{pageIndex:0,pageSize:10}},n.useGlobalFilter,n.useSortBy,n.usePagination);return(0,l.jsxs)("div",{className:"data-table-container",children:[(0,l.jsx)("h5",{children:d||""}),(0,l.jsxs)("div",{className:"data-table-header",children:[(0,l.jsxs)("div",{className:"search-box-container",children:[(0,l.jsx)(r.A,{type:"text",value:g||"",onChange:t=>j(t.target.value),placeholder:"Search..."}),(0,l.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"})]}),(0,l.jsx)(o.A,{onClick:()=>(()=>{const t=a.map((t=>e.reduce(((e,a)=>(e[a.Header]=t[a.accessor],e)),{}))),c=i.Wp.json_to_sheet(t),n=i.Wp.book_new();i.Wp.book_append_sheet(n,c,"Sheet 1"),i._h(n,"data.xlsx")})(),variant:"success",className:"download_excel",style:{color:"white"},children:"Download Excel"})]}),(0,l.jsx)("div",{className:"table-wrapper",children:(0,l.jsxs)(s.A,{...h(),bordered:!0,hover:!0,responsive:!0,children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Sr. No."}),m.map((t=>(0,l.jsx)(c.Fragment,{children:t.headers.map((t=>(0,l.jsxs)("th",{...t.getHeaderProps(t.getSortByToggleProps()),children:[t.render("Header"),(0,l.jsx)("span",{children:t.isSorted?t.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""})]},t._id)))},t._id)))]})}),(0,l.jsx)("tbody",{...u(),children:p.map(((t,e)=>(w(t),(0,l.jsxs)("tr",{...t.getRowProps(),children:[(0,l.jsx)("td",{children:y*x+e+1}),t.cells.map((t=>(0,l.jsx)("td",{...t.getCellProps(),children:t.render("Cell")},t.column._id)))]},t._id))))})]})}),(0,l.jsxs)("div",{className:"pagination-controls",children:[(0,l.jsx)("button",{onClick:()=>v(0),disabled:!C,children:"<<"}),(0,l.jsx)("button",{onClick:()=>b(),disabled:!C,children:"<"}),(0,l.jsx)("button",{onClick:()=>f(),disabled:!_,children:">"}),(0,l.jsx)("button",{onClick:()=>v(p.length-1),disabled:!_,children:">>"}),(0,l.jsxs)("span",{children:["\xa0Page ",(0,l.jsx)("strong",{children:y+1})," of ",Math.ceil(a.length/x)," pages | Showing ",a.length," Records"]})]})]})}},64237:(t,e,a)=>{a.d(e,{A:()=>r});a(65043);var c=a(93946),n=a(70579);const r=t=>{let{customStyles:e,title:a}=t;return(0,n.jsx)(c.sK,{children:(0,n.jsx)(c.UF,{xs:12,children:(0,n.jsxs)(c.E$,{className:"mb-4",children:[(0,n.jsx)(c.V0,{children:(0,n.jsx)("strong",{children:a})}),(0,n.jsx)(c.W6,{children:e?e():null})]})})})}},80519:(t,e,a)=>{a.d(e,{A:()=>d});var c=a(65043),n=a(43516),r=a(85369),o=a(93946),s=a(30064),i=a.n(s),l=a(70579);const d=t=>{let{onUpload:e,img:a}=t;const[s,d]=(0,c.useState)(a);(0,c.useEffect)((()=>{d(a)}),[a]);return(0,l.jsxs)("div",{children:[(0,l.jsx)(o.OG,{type:"file",id:"fileInput","aria-label":"file example",accept:"image/*",onChange:async t=>{const a=t.target.files[0],c=new FormData;c.append("file",a),c.append("upload_preset","school_management");const n=await fetch("https://api.cloudinary.com/v1_1/dqdnj2szc/image/upload",{method:"POST",body:c}),r=await n.json();d(r.secure_url),e(r.secure_url)}}),s&&(0,l.jsx)("div",{children:(0,l.jsxs)("div",{style:{width:"100px",height:"100px",position:"relative",margin:"10px"},children:[(0,l.jsx)(n._V,{cloudName:"dqdnj2szc",publicId:s,width:"100",height:"100"}),(0,l.jsx)(r.QCr,{onClick:async()=>{if((await i().fire({title:"Are you sure?",text:"You will not be able to recover this image!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed){d(""),e("");const t=document.getElementById("fileInput");t&&(t.value="")}},style:{position:"absolute",top:"5px",right:"5px",cursor:"pointer"}})]})})]})}}}]);
//# sourceMappingURL=6134.302f7ecb.chunk.js.map