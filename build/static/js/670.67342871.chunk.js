"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[670,5831],{16027:(e,t,a)=>{a.d(t,{Af:()=>C,C7:()=>U,CB:()=>O,Ec:()=>K,F3:()=>h,GV:()=>D,HD:()=>E,HJ:()=>g,I9:()=>A,JQ:()=>j,K$:()=>_,Kl:()=>Y,Kz:()=>k,LB:()=>f,Lx:()=>i,Nw:()=>T,P2:()=>L,QQ:()=>l,Rs:()=>y,Sv:()=>H,Um:()=>S,VR:()=>p,X9:()=>q,Y$:()=>I,Yv:()=>b,Yw:()=>x,_B:()=>W,ch:()=>J,fw:()=>R,gT:()=>$,h0:()=>Q,hg:()=>v,jS:()=>M,jw:()=>N,k6:()=>P,o_:()=>m,pb:()=>F,r$:()=>z,rp:()=>V,u9:()=>d,um:()=>B,v7:()=>u,w4:()=>G,wr:()=>w});var c=a(77154),n=a(1880);const r="http://66.179.250.128:5000",s=c.A.create({baseURL:r,headers:{"Content-Type":"application/json"}}),o=()=>{const e=n.A.get("accessToken");e&&(s.defaults.headers.common.Authorization="Bearer ".concat(e))};o(),s.interceptors.response.use((e=>e),(e=>(e.response&&401===e.response.status&&(window.location.href="/admin-login"),Promise.reject(e))));const i=async e=>{try{const t=await s.post("".concat(r,"/admin/login"),e);if(t.data.success){const e=t.data.data.token;n.A.set("accessToken",e,{secure:!0,sameSite:"strict"});const a=t.data.data.name;n.A.set("name",a,{secure:!0,sameSite:"strict"});const c=t.data.data.id;n.A.set("adminId",c,{secure:!0,sameSite:"strict"}),o()}return t.data}catch(t){throw console.log("error",t),t}},l=async()=>{try{return(await s.get("".concat(r,"/organization"))).data}catch(e){throw e}},d=async e=>{try{return(await s.get("".concat(r,"/organization/").concat(e))).data}catch(t){throw t}},h=async e=>{try{return(await s.post("".concat(r,"/organization"),e)).data}catch(t){throw t}},u=async e=>{try{return(await s.delete("".concat(r,"/organization/").concat(e))).data}catch(t){throw t}},m=async(e,t)=>{try{return(await s.patch("".concat(r,"/organization/").concat(e),t)).data}catch(a){throw a}},y=async()=>{try{return(await s.get("".concat(r,"/teacher"))).data}catch(e){throw e}},p=async e=>{try{return(await s.get("".concat(r,"/teacher/by-organization/").concat(e))).data}catch(t){throw t}},x=async e=>{try{return(await s.post("".concat(r,"/teacher"),e)).data}catch(t){throw t}},w=async e=>{try{return(await s.delete("".concat(r,"/teacher/").concat(e))).data}catch(t){throw t}},g=async(e,t)=>{try{return(await s.patch("".concat(r,"/teacher/").concat(e),t)).data}catch(a){throw a}},j=async()=>{try{return(await s.get("".concat(r,"/levels"))).data}catch(e){throw e}},_=async e=>{try{return(await s.post("".concat(r,"/levels"),e)).data}catch(t){throw t}},b=async e=>{try{return(await s.delete("".concat(r,"/levels/").concat(e))).data}catch(t){throw t}},v=async(e,t)=>{try{return(await s.patch("".concat(r,"/levels/").concat(e),t)).data}catch(a){throw a}},f=async e=>{try{return(await s.get("".concat(r,"/question/by_level/").concat(e))).data}catch(t){throw t}},C=async e=>{try{return(await s.post("".concat(r,"/question"),e)).data}catch(t){throw t}},S=async e=>{try{return(await s.delete("".concat(r,"/question/").concat(e))).data}catch(t){throw t}},T=async(e,t)=>{try{return(await s.patch("".concat(r,"/question/").concat(e),t)).data}catch(a){throw a}},A=async e=>{try{return(await s.get("".concat(r,"/student"))).data}catch(t){throw t}},P=async e=>{try{return(await s.get("".concat(r,"/student/organization/").concat(e))).data}catch(t){throw t}},N=async e=>{try{return(await s.post("".concat(r,"/student"),e)).data}catch(t){throw t}},z=async e=>{try{return(await s.delete("".concat(r,"/student/").concat(e))).data}catch(t){throw t}},I=async(e,t)=>{try{return(await s.patch("".concat(r,"/student/").concat(e),t)).data}catch(a){throw a}},O=async()=>{try{return(await s.get("".concat(r,"/exam"))).data}catch(e){throw e}},k=async e=>{try{return(await s.get("".concat(r,"/exam/").concat(e))).data}catch(t){throw t}},R=async e=>{try{return(await s.get("".concat(r,"/exam/get-exam-student-by-exam-id/").concat(e))).data}catch(t){throw t}},q=async e=>{try{return(await s.delete("".concat(r,"/exam/removed-student-from-exam/").concat(e))).data}catch(t){throw t}},B=async e=>{try{return(await s.delete("".concat(r,"/exam/removed-question-from-exam/").concat(e))).data}catch(t){throw t}},F=async e=>{try{return(await s.post("".concat(r,"/exam"),e)).data}catch(t){throw t}},E=async e=>{try{return(await s.delete("".concat(r,"/exam/").concat(e))).data}catch(t){throw t}},H=async(e,t)=>{try{return(await s.patch("".concat(r,"/exam/").concat(e),t)).data}catch(a){throw a}},U=async e=>{try{return(await s.get("".concat(r,"/exam/by-organization-id-for-admin/").concat(e))).data}catch(t){throw t}},G=async e=>{try{return(await s.get("".concat(r,"/exam/get-exam-qestion-by-exam-id/").concat(e))).data}catch(t){throw t}},Q=async e=>{try{return(await s.post("".concat(r,"/exam/add-exam-student"),e)).data}catch(t){throw t}},V=async e=>{try{return(await s.post("".concat(r,"/exam/organization-student-not-exit"),e)).data}catch(t){throw t}},Y=async e=>{try{return(await s.post("".concat(r,"/exam/question-not-exit"),e)).data}catch(t){throw t}},D=async e=>{try{return(await s.post("".concat(r,"/exam/add-exam-question"),e)).data}catch(t){throw t}},L=async e=>{try{return(await s.get("".concat(r,"/exam/schedule-exam/").concat(e))).data}catch(t){throw t}},M=async e=>{try{return(await s.get("".concat(r,"/exam-submission/by-examination-id/").concat(e))).data}catch(t){throw t}},K=async e=>{try{return(await s.post("".concat(r,"/exam/update-student-certificate"),e)).data}catch(t){throw t}},W=async e=>{try{return(await s.get("".concat(r,"/exam/update-student-certificate-generate/").concat(e))).data}catch(t){throw t}},$=async e=>{try{return(await s.get("".concat(r,"/exam/recent/dashboard"))).data}catch(t){throw t}},J=async e=>{try{return(await s.post("".concat(r,"/question/bulk"),e)).data}catch(t){throw t}}},60670:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var c=a(65043),n=a(85369),r=a(93946),s=a(84718),o=a(64237),i=a(16027),l=a(42145),d=(a(2574),a(30064)),h=a.n(d),u=a(8588),m=a(35475),y=a(80519),p=a(70579);const x=function(){const[e,t]=(0,c.useState)([]),[a,d]=(0,c.useState)(null),[x,w]=(0,c.useState)("Add Organization"),[g,j]=(0,c.useState)(!1),[_,b]=(0,c.useState)(""),[v,f]=(0,c.useState)({name:"",email:"",mobile_number:"",address:"",is_type:null,is_type_value:null,logo_url:""});(0,c.useEffect)((()=>{S()}),[]);const[C]=(0,c.useState)([{value:"school",label:"School"},{value:"institute",label:"Institute"}]),S=async()=>{const e=await(0,i.QQ)();console.log(e),e.success&&t(e.data)},T=e=>{b(e)},A=[{Header:"Organization Name",accessor:"name"},{Header:" Email",accessor:"email"},{Header:" Mobile Number",accessor:"mobile_number"},{Header:" Address",accessor:"address"},{Header:" Type",accessor:"is_type"},{Header:"Actions",accessor:"_id",Cell:t=>{let{row:a}=t;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(m.N_,{to:"/organization-info/".concat(a.original._id),children:(0,p.jsxs)(r.Q_,{color:"success",size:"sm",style:{color:"white"},children:[(0,p.jsx)(n.Ny1,{})," View"]})})," ",(0,p.jsxs)(r.Q_,{color:"info",size:"sm",style:{color:"white"},onClick:()=>(t=>{w("Update Organization");const a=e.find((e=>e._id===t));console.log(a),d(a._id),b(a.logo_url),f({name:a.name,email:a.email,mobile_number:a.mobile_number,address:a.address,is_type_value:{value:a.is_type,label:a.is_type},is_type:a.is_type,logo_url:""})})(a.original._id),children:[(0,p.jsx)(n.uO9,{})," Edit"]})," ",(0,p.jsxs)(r.Q_,{color:"danger",size:"sm",style:{color:"white"},onClick:()=>(async e=>{if((await h().fire({title:"Are you sure?",text:"You will not be able to recover this organization!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{const t=await(0,i.v7)(e);t.success&&(l.oR.success(t.message,{position:l.oR.POSITION.TOP_RIGHT,autoClose:3e3}),S())}catch(t){l.oR.error(t.message,{position:l.oR.POSITION.TOP_RIGHT,autoClose:3e3})}})(a.original._id),children:[(0,p.jsx)(n.qbC,{})," Delete"]})]})}}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.A,{customStyles:()=>{const e=(0,c.useRef)(),t=e=>{const{name:t,value:a,files:c}=e.target;f((e=>({...e,[t]:"file"===t?c[0]:a})))};return(0,p.jsxs)(r.qI,{ref:e,className:"row g-3 needs-validation",noValidate:!0,onSubmit:async t=>{t.preventDefault(),t.stopPropagation();const c=e.current;if(!1===c.checkValidity())return c.classList.add("was-validated"),""==v.is_type||null==v.is_type?void j(!0):void 0;let n=null;if(console.log("imageUrl",_),v.logo_url=_,console.log(v),a?n=await(0,i.o_)(a,v):(n=await(0,i.F3)(v),d(null)),n.success){l.oR.success(n.message,{position:l.oR.POSITION.TOP_RIGHT,autoClose:3e3}),S(),w("Add Organization"),f({name:"",email:"",mobile_number:"",address:"",is_type_value:null,is_type:null,logo_url:""}),b("");const e=document.getElementById("fileInput");e&&(e.value=""),c.classList.remove("was-validated")}else l.oR.error(n.message,{position:l.oR.POSITION.TOP_RIGHT,autoClose:3e3})},children:[(0,p.jsxs)(r.UF,{md:4,children:[(0,p.jsx)(r.A6,{children:"Name"}),(0,p.jsx)(r.OG,{type:"text",placeholder:"Enter Name",name:"name",required:!0,value:v.name,onChange:t}),(0,p.jsx)(r.To,{invalid:!0,children:"Please enter name"})]}),(0,p.jsxs)(r.UF,{md:4,children:[(0,p.jsx)(r.A6,{children:"Email"}),(0,p.jsx)(r.OG,{type:"email",name:"email",placeholder:"Enter Email",required:!0,value:v.email,onChange:t}),(0,p.jsx)(r.To,{invalid:!0,children:"Please enter email"})]}),(0,p.jsxs)(r.UF,{md:4,children:[(0,p.jsx)(r.A6,{children:"Mobile Number"}),(0,p.jsx)(r.OG,{type:"number",name:"mobile_number",placeholder:"Enter Mobile Number",required:!0,value:v.mobile_number,onChange:t}),(0,p.jsx)(r.To,{invalid:!0,children:"Please enter mobile number"})]}),(0,p.jsxs)(r.UF,{md:4,children:[(0,p.jsx)(r.A6,{children:"Address"}),(0,p.jsx)(r.OG,{type:"text",name:"address",placeholder:"Enter Address",required:!0,value:v.address,onChange:t}),(0,p.jsx)(r.To,{invalid:!0,children:"Please enter address."})]}),(0,p.jsxs)(r.UF,{md:4,children:[(0,p.jsx)(r.A6,{children:"Select Type"}),(0,p.jsx)(u.Ay,{name:"is_type",value:v.is_type_value,options:C,onChange:e=>{console.log(e),f((t=>({...t,is_type_value:e,is_type:e.value}))),j(!1)},placeholder:"Select Type",required:!0}),(0,p.jsxs)(r.To,{className:"text-danger",style:{fontSize:"14px"},children:[" ",g?"Please select type":""]})]}),(0,p.jsxs)(r.UF,{md:4,children:[(0,p.jsx)(r.A6,{children:" Logo"}),(0,p.jsx)(y.A,{onUpload:T,img:_}),(0,p.jsx)(r.To,{invalid:!0,children:"Example invalid form file feedback"})]}),(0,p.jsx)(r.UF,{xs:12,className:"d-flex justify-content-end",children:(0,p.jsx)(r.Q_,{color:"primary",type:"submit",children:x})})]})},title:"Organization Master"}),(0,p.jsx)(s.A,{columns:A,data:e})]})}},84718:(e,t,a)=>{a.d(t,{A:()=>d});var c=a(65043),n=a(71094),r=a(61270),s=a(68155),o=a(64196),i=a(11238),l=a(70579);const d=e=>{let{columns:t,data:a,name:d}=e;const{getTableProps:h,getTableBodyProps:u,headerGroups:m,prepareRow:y,page:p,state:{pageIndex:x,pageSize:w,globalFilter:g},setGlobalFilter:j,gotoPage:_,nextPage:b,previousPage:v,canNextPage:f,canPreviousPage:C}=(0,n.useTable)({columns:t,data:a,initialState:{pageIndex:0,pageSize:10}},n.useGlobalFilter,n.useSortBy,n.usePagination);return(0,l.jsxs)("div",{className:"data-table-container",children:[(0,l.jsx)("h5",{children:d||""}),(0,l.jsxs)("div",{className:"data-table-header",children:[(0,l.jsxs)("div",{className:"search-box-container",children:[(0,l.jsx)(r.A,{type:"text",value:g||"",onChange:e=>j(e.target.value),placeholder:"Search..."}),(0,l.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"})]}),(0,l.jsx)(s.A,{onClick:()=>(()=>{const e=a.map((e=>t.reduce(((t,a)=>(t[a.Header]=e[a.accessor],t)),{}))),c=i.Wp.json_to_sheet(e),n=i.Wp.book_new();i.Wp.book_append_sheet(n,c,"Sheet 1"),i._h(n,"data.xlsx")})(),variant:"success",className:"download_excel",style:{color:"white"},children:"Download Excel"})]}),(0,l.jsx)("div",{className:"table-wrapper",children:(0,l.jsxs)(o.A,{...h(),bordered:!0,hover:!0,responsive:!0,children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Sr. No."}),m.map((e=>(0,l.jsx)(c.Fragment,{children:e.headers.map((e=>(0,l.jsxs)("th",{...e.getHeaderProps(e.getSortByToggleProps()),children:[e.render("Header"),(0,l.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""})]},e._id)))},e._id)))]})}),(0,l.jsx)("tbody",{...u(),children:p.map(((e,t)=>(y(e),(0,l.jsxs)("tr",{...e.getRowProps(),children:[(0,l.jsx)("td",{children:x*w+t+1}),e.cells.map((e=>(0,l.jsx)("td",{...e.getCellProps(),children:e.render("Cell")},e.column._id)))]},e._id))))})]})}),(0,l.jsxs)("div",{className:"pagination-controls",children:[(0,l.jsx)("button",{onClick:()=>_(0),disabled:!C,children:"<<"}),(0,l.jsx)("button",{onClick:()=>v(),disabled:!C,children:"<"}),(0,l.jsx)("button",{onClick:()=>b(),disabled:!f,children:">"}),(0,l.jsx)("button",{onClick:()=>_(p.length-1),disabled:!f,children:">>"}),(0,l.jsxs)("span",{children:["\xa0Page ",(0,l.jsx)("strong",{children:x+1})," of ",Math.ceil(a.length/w)," pages | Showing ",a.length," Records"]})]})]})}},64237:(e,t,a)=>{a.d(t,{A:()=>r});a(65043);var c=a(93946),n=a(70579);const r=e=>{let{customStyles:t,title:a}=e;return(0,n.jsx)(c.sK,{children:(0,n.jsx)(c.UF,{xs:12,children:(0,n.jsxs)(c.E$,{className:"mb-4",children:[(0,n.jsx)(c.V0,{children:(0,n.jsx)("strong",{children:a})}),(0,n.jsx)(c.W6,{children:t?t():null})]})})})}},80519:(e,t,a)=>{a.d(t,{A:()=>d});var c=a(65043),n=a(43516),r=a(85369),s=a(93946),o=a(30064),i=a.n(o),l=a(70579);const d=e=>{let{onUpload:t,img:a}=e;const[o,d]=(0,c.useState)(a);(0,c.useEffect)((()=>{d(a)}),[a]);return(0,l.jsxs)("div",{children:[(0,l.jsx)(s.OG,{type:"file",id:"fileInput","aria-label":"file example",accept:"image/*",onChange:async e=>{const a=e.target.files[0],c=new FormData;c.append("file",a),c.append("upload_preset","school_management");const n=await fetch("https://api.cloudinary.com/v1_1/dqdnj2szc/image/upload",{method:"POST",body:c}),r=await n.json();d(r.secure_url),t(r.secure_url)}}),o&&(0,l.jsx)("div",{children:(0,l.jsxs)("div",{style:{width:"100px",height:"100px",position:"relative",margin:"10px"},children:[(0,l.jsx)(n._V,{cloudName:"dqdnj2szc",publicId:o,width:"100",height:"100"}),(0,l.jsx)(r.QCr,{onClick:async()=>{if((await i().fire({title:"Are you sure?",text:"You will not be able to recover this image!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed){d(""),t("");const e=document.getElementById("fileInput");e&&(e.value="")}},style:{position:"absolute",top:"5px",right:"5px",cursor:"pointer"}})]})})]})}}}]);
//# sourceMappingURL=670.67342871.chunk.js.map