"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[392,5831],{63782:(e,a,l)=>{l.r(a),l.d(a,{default:()=>d});var n=l(65043),i=(l(84718),l(93946),l(16027)),s=l(73216),t=l(78502),o=l(18718),r=l(56766),c=l(70579);const d=function(){const{id:e}=(0,s.g)(),[a,l]=(0,n.useState)("teacher"),[d,u]=(0,n.useState)("Organization Name");return(0,n.useEffect)((()=>{(async()=>{const a=await(0,i.u9)(e);console.log("organization",a),u(a.data.name)})()})),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"container bg-white mb-3 p-3",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"col-12",children:[(0,c.jsx)("h5",{children:d}),(0,c.jsx)("hr",{})]}),(0,c.jsx)("div",{className:"col-2",children:(0,c.jsx)("a",{onClick:()=>l("teacher"),className:"custom_button ".concat("teacher"===a?"custom_button_active":""),children:"Teacher Info"})}),(0,c.jsx)("div",{className:"col-2",children:(0,c.jsx)("a",{onClick:()=>l("student"),className:"custom_button ".concat("student"===a?"custom_button_active":""),children:"Student Info"})}),(0,c.jsx)("div",{className:"col-2",children:(0,c.jsx)("a",{onClick:()=>l("exam"),className:"custom_button ".concat("exam"===a?"custom_button_active":""),children:"Examination Info"})})]})}),"student"===a?(0,c.jsx)(t.default,{id:e}):"teacher"===a?(0,c.jsx)(o.default,{id:e}):"exam"===a?(0,c.jsx)(r.default,{id:e}):null]})}},78502:(e,a,l)=>{l.r(a),l.d(a,{default:()=>v});var n=l(65043),i=l(85369),s=l(93946),t=l(84718),o=l(64237),r=l(16027),c=l(42145),d=(l(2574),l(30064)),u=l.n(d),m=l(8588),_=l(1880),h=l(70579);const v=function(e){const[a,l]=(0,n.useState)([]),[d,v]=(0,n.useState)(null),[x,g]=(0,n.useState)("Add Student"),[p,j]=(0,n.useState)(!1),[b,y]=(0,n.useState)(!1),[f,T]=(0,n.useState)(!1),[S,z]=(0,n.useState)([]),[N,C]=(0,n.useState)([]),w=_.A.get("adminId"),[O,A]=(0,n.useState)({name:"",mobile_number:"",email:"",roll_no:null,organization_value:null,organization_id:null,level_value:null,level_id:null,created_type:"Admin",created_id:w});(0,n.useEffect)((()=>{I(),R(),P()}),[]);const I=async()=>{if(e.id){const a=await(0,r.k6)(e.id);console.log(a),a.success&&l(a.data)}else{const e=await(0,r.I9)();console.log(e),e.success&&l(e.data)}},R=async()=>{const e=await(0,r.QQ)();console.log(e),e.success&&(e.data.map((e=>{e.label=e.name,e.value=e._id})),z(e.data))},P=async()=>{const e=await(0,r.JQ)();console.log(e),e.success&&(e.data.map((e=>{e.label=e.name,e.value=e._id})),C(e.data))},H=[{Header:"Student Name",accessor:"name"},{Header:"Mobile Number",accessor:"mobile_number"},{Header:"Email Address",accessor:"email"},{Header:"Role Number",accessor:"roll_no"},{Header:"Level Name",accessor:"level_id.name"},{Header:"Organization Name",accessor:"organization_id.name"},{Header:"Created Type",accessor:"created_type"},{Header:"Created By",Cell:e=>{var a,l;let{row:n}=e;return(0,h.jsx)(h.Fragment,{children:"Admin"==n.original.created_type?null===(a=n.original.admin_id)||void 0===a?void 0:a.admin_name:null===(l=n.original.teacher_id)||void 0===l?void 0:l.name})}},{Header:"Actions",accessor:"_id",Cell:e=>{let{row:l}=e;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(s.Q_,{color:"info",size:"sm",style:{color:"white"},onClick:()=>(e=>{g("Update Student");const l=a.find((a=>a._id===e));v(l._id),A({name:l.name,mobile_number:l.mobile_number,email:l.email,roll_no:l.roll_no,organization_value:{value:l.organization_id._id,label:l.organization_id.name},organization_id:l.organization_id._id,level_value:{value:l.level_id._id,label:l.level_id.name},level_id:l.level_id._id,created_type:"Admin",created_id:w})})(l.original._id),children:[(0,h.jsx)(i.uO9,{})," Edit"]})," ",(0,h.jsxs)(s.Q_,{color:"danger",size:"sm",style:{color:"white"},onClick:()=>(async e=>{if((await u().fire({title:"Are you sure?",text:"You will not be able to recover this student!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{const a=await(0,r.r$)(e);a.success&&(c.oR.success(a.message,{position:c.oR.POSITION.TOP_RIGHT,autoClose:3e3}),I())}catch(a){c.oR.error(a.message,{position:c.oR.POSITION.TOP_RIGHT,autoClose:3e3})}})(l.original._id),children:[(0,h.jsx)(i.qbC,{})," Delete"]})]})}}];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.A,{customStyles:()=>{const a=(0,n.useRef)(),l=e=>{const{name:a,value:l,files:n}=e.target;A((e=>({...e,[a]:"file"===a?n[0]:l})))};return(0,h.jsxs)(s.qI,{ref:a,className:"row g-3 needs-validation",noValidate:!0,onSubmit:async l=>{l.preventDefault(),l.stopPropagation();const n=a.current;if(!1===n.checkValidity())return n.classList.add("was-validated"),""==O.level_id||null==O.level_id?void T(!0):""==O.organization_id||null==O.organization_id?void y(!0):void 0;let i=null;O.roll_no=parseInt(O.roll_no),e.id&&(O.organization_id=e.id),console.log(O),d?i=await(0,r.Y$)(d,O):(i=await(0,r.jw)(O),v(null)),i.success?(c.oR.success(i.message,{position:c.oR.POSITION.TOP_RIGHT,autoClose:3e3}),I(),g("Add Student"),A({name:"",mobile_number:"",email:"",roll_no:"",organization_value:null,organization_id:null,level_value:null,level_id:null,created_type:"Admin",created_id:w}),n.classList.remove("was-validated")):c.oR.error(i.message,{position:c.oR.POSITION.TOP_RIGHT,autoClose:3e3})},children:[(0,h.jsxs)(s.UF,{md:4,children:[(0,h.jsx)(s.A6,{children:"Student Name"}),(0,h.jsx)(s.OG,{type:"text",placeholder:"Enter Student Name",name:"name",required:!0,value:O.name,onChange:l}),(0,h.jsx)(s.To,{invalid:!0,children:"Please enter studnet name"})]}),(0,h.jsxs)(s.UF,{md:4,children:[(0,h.jsx)(s.A6,{children:"Mobile Number"}),(0,h.jsx)(s.OG,{type:"number",name:"mobile_number",placeholder:"Enter Mobile Number",required:!0,value:O.mobile_number,onChange:l}),(0,h.jsx)(s.To,{invalid:!0,children:"Please enter mobile number"})]}),(0,h.jsxs)(s.UF,{md:4,children:[(0,h.jsx)(s.A6,{children:"Email"}),(0,h.jsx)(s.OG,{type:"email",name:"email",placeholder:"Enter Email Address",required:!0,value:O.email,onChange:l}),(0,h.jsx)(s.To,{invalid:!0,children:"Please enter email address"})]}),(0,h.jsxs)(s.UF,{md:4,children:[(0,h.jsx)(s.A6,{children:"Role Number"}),(0,h.jsx)(s.OG,{type:"number",name:"roll_no",placeholder:"Enter Roll Number",required:!0,value:O.roll_no,onChange:l}),(0,h.jsx)(s.To,{invalid:!0,children:"Please enter roll number"})]}),e.id?null:(0,h.jsxs)(s.UF,{md:4,children:[(0,h.jsx)(s.A6,{children:"Select Organization"}),(0,h.jsx)(m.Ay,{name:"is_type",value:O.organization_value,options:S,onChange:e=>{console.log(e),A((a=>({...a,organization_value:e,organization_id:e.value}))),y(!1)},placeholder:"Select Type",required:!0}),(0,h.jsxs)(s.To,{className:"text-danger",style:{fontSize:"14px"},children:[" ",b?"Please select organization":""]})]}),(0,h.jsxs)(s.UF,{md:4,children:[(0,h.jsx)(s.A6,{children:"Select Level"}),(0,h.jsx)(m.Ay,{name:"is_type",value:O.level_value,options:N,onChange:e=>{console.log(e),A((a=>({...a,level_value:e,level_id:e.value}))),T(!1)},placeholder:"Select Level",required:!0}),(0,h.jsxs)(s.To,{className:"text-danger",style:{fontSize:"14px"},children:[" ",f?"Please select level":""]})]}),(0,h.jsx)(s.UF,{xs:12,className:"d-flex justify-content-end",children:(0,h.jsx)(s.Q_,{color:"primary",type:"submit",children:x})})]})},title:"Student Master"}),(0,h.jsx)(t.A,{columns:H,data:a})]})}},18718:(e,a,l)=>{l.r(a),l.d(a,{default:()=>h});var n=l(65043),i=l(85369),s=l(93946),t=l(84718),o=l(64237),r=l(16027),c=l(42145),d=(l(2574),l(30064)),u=l.n(d),m=l(8588),_=l(70579);const h=function(e){console.log("props",e);const[a,l]=(0,n.useState)([]),[d,h]=(0,n.useState)(null),[v,x]=(0,n.useState)("Add Teacher"),[g,p]=(0,n.useState)(!1),[j,b]=(0,n.useState)(!1),[y,f]=(0,n.useState)({name:"",email:"",mobile_number:"",is_type:null,is_type_value:null,file:null,organization_value:null,organization_id:null});(0,n.useEffect)((()=>{C(),N()}),[]);const[T]=(0,n.useState)([{value:"Principal",label:"Principal"},{value:"HOD",label:"HOD"},{value:"Teacher",label:"Teacher"}]),[S,z]=(0,n.useState)([]),N=async()=>{if(e.id){const a=await(0,r.VR)(e.id);a.success&&l(a.data)}else{const e=await(0,r.Rs)();console.log(e),e.success&&l(e.data)}},C=async()=>{const e=await(0,r.QQ)();console.log(e),e.success&&(e.data.map((e=>{e.label=e.name,e.value=e._id})),z(e.data))},w=[{Header:"Organization Name",accessor:"organization_id.name"},{Header:"Teacher Name",accessor:"name"},{Header:"Teacher Email",accessor:"email"},{Header:"Teacher Mobile Number",accessor:"mobile_number"},{Header:"Role",accessor:"is_type"},{Header:"Actions",accessor:"_id",Cell:e=>{let{row:l}=e;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(s.Q_,{color:"info",size:"sm",style:{color:"white"},onClick:()=>(e=>{x("Update Teacher");const l=a.find((a=>a._id===e));h(l._id),f({name:l.name,email:l.email,mobile_number:l.mobile_number,is_type_value:{value:l.is_type,label:l.is_type},is_type:l.is_type,organization_value:{value:l.organization_id._id,label:l.organization_id.name},organization_id:l.organization_id._id,file:null})})(l.original._id),children:[(0,_.jsx)(i.uO9,{})," Edit"]})," ",(0,_.jsxs)(s.Q_,{color:"danger",size:"sm",style:{color:"white"},onClick:()=>(async e=>{if((await u().fire({title:"Are you sure?",text:"You will not be able to recover this teacher!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{const a=await(0,r.wr)(e);a.success&&(c.oR.success(a.message,{position:c.oR.POSITION.TOP_RIGHT,autoClose:3e3}),N())}catch(a){c.oR.error(a.message,{position:c.oR.POSITION.TOP_RIGHT,autoClose:3e3})}})(l.original._id),children:[(0,_.jsx)(i.qbC,{})," Delete"]})]})}}];return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(o.A,{customStyles:()=>{const a=(0,n.useRef)(),l=e=>{const{name:a,value:l,files:n}=e.target;f((e=>({...e,[a]:"file"===a?n[0]:l})))};return(0,_.jsxs)(s.qI,{ref:a,className:"row g-3 needs-validation",noValidate:!0,onSubmit:async l=>{l.preventDefault(),l.stopPropagation();const n=a.current;if(!1===n.checkValidity())return n.classList.add("was-validated"),""==y.is_type||null==y.is_type?void p(!0):""==y.organization_id||null==y.organization_id?void b(!0):void 0;let i=null;console.log(y),e.id&&(y.organization_id=e.id),d?i=await(0,r.HJ)(d,y):(i=await(0,r.Yw)(y),h(null)),i.success?(c.oR.success(i.message,{position:c.oR.POSITION.TOP_RIGHT,autoClose:3e3}),N(),x("Add Teacher"),f({name:"",email:"",mobile_number:"",address:"",is_type_value:null,is_type:null,file:null,organization_value:null,organization_id:null}),n.classList.remove("was-validated")):c.oR.error(i.message,{position:c.oR.POSITION.TOP_RIGHT,autoClose:3e3})},children:[(0,_.jsxs)(s.UF,{md:4,children:[(0,_.jsx)(s.A6,{children:"Name"}),(0,_.jsx)(s.OG,{type:"text",placeholder:"Enter Name",name:"name",required:!0,value:y.name,onChange:l}),(0,_.jsx)(s.To,{invalid:!0,children:"Please enter name"})]}),(0,_.jsxs)(s.UF,{md:4,children:[(0,_.jsx)(s.A6,{children:"Email"}),(0,_.jsx)(s.OG,{type:"email",name:"email",placeholder:"Enter Email",required:!0,value:y.email,onChange:l}),(0,_.jsx)(s.To,{invalid:!0,children:"Please enter email"})]}),(0,_.jsxs)(s.UF,{md:4,children:[(0,_.jsx)(s.A6,{children:"Mobile Number"}),(0,_.jsx)(s.OG,{type:"number",name:"mobile_number",placeholder:"Enter Mobile Number",required:!0,value:y.mobile_number,onChange:l}),(0,_.jsx)(s.To,{invalid:!0,children:"Please enter mobile number"})]}),(0,_.jsxs)(s.UF,{md:4,children:[(0,_.jsx)(s.A6,{children:"Select Type"}),(0,_.jsx)(m.Ay,{name:"is_type",value:y.is_type_value,options:T,onChange:e=>{console.log(e),f((a=>({...a,is_type_value:e,is_type:e.value}))),p(!1)},placeholder:"Select Type",required:!0}),(0,_.jsxs)(s.To,{className:"text-danger",style:{fontSize:"14px"},children:[" ",g?"Please select type":""]})]}),e.id?null:(0,_.jsxs)(s.UF,{md:4,children:[(0,_.jsx)(s.A6,{children:"Select Organization"}),(0,_.jsx)(m.Ay,{name:"is_type",value:y.organization_value,options:S,onChange:e=>{console.log(e),f((a=>({...a,organization_value:e,organization_id:e.value}))),b(!1)},placeholder:"Select Type",required:!0}),(0,_.jsxs)(s.To,{className:"text-danger",style:{fontSize:"14px"},children:[" ",j?"Please select organization":""]})]}),(0,_.jsx)(s.UF,{xs:12,className:"d-flex justify-content-end",children:(0,_.jsx)(s.Q_,{color:"primary",type:"submit",children:v})})]})},title:"Teacher Master"}),(0,_.jsx)(t.A,{columns:w,data:a})]})}}}]);
//# sourceMappingURL=392.98c54d5c.chunk.js.map