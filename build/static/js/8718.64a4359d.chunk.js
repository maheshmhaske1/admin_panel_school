"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8718,5831],{16027:(a,e,t)=>{t.d(e,{Af:()=>T,C7:()=>G,CB:()=>O,Ec:()=>K,F3:()=>h,GV:()=>Y,HD:()=>B,HJ:()=>g,I9:()=>P,JQ:()=>_,K$:()=>b,Kl:()=>V,Kz:()=>k,LB:()=>f,Lx:()=>i,Nw:()=>z,P2:()=>L,QQ:()=>l,Rs:()=>y,Sv:()=>E,Um:()=>S,VR:()=>w,X9:()=>I,Y$:()=>R,Yv:()=>j,Yw:()=>p,_B:()=>W,ch:()=>J,fw:()=>H,gT:()=>$,h0:()=>Q,hg:()=>v,jS:()=>M,jw:()=>N,k6:()=>C,o_:()=>m,pb:()=>F,r$:()=>A,rp:()=>D,u9:()=>d,um:()=>q,v7:()=>u,w4:()=>U,wr:()=>x});var c=t(77154),n=t(1880);const r="http://66.179.250.128:5000",o=c.A.create({baseURL:r,headers:{"Content-Type":"application/json"}}),s=()=>{const a=n.A.get("accessToken");a&&(o.defaults.headers.common.Authorization="Bearer ".concat(a))};s(),o.interceptors.response.use((a=>a),(a=>(a.response&&401===a.response.status&&(window.location.href="/admin-login"),Promise.reject(a))));const i=async a=>{try{const e=await o.post("".concat(r,"/admin/login"),a);if(e.data.success){const a=e.data.data.token;n.A.set("accessToken",a,{secure:!0,sameSite:"strict"});const t=e.data.data.name;n.A.set("name",t,{secure:!0,sameSite:"strict"});const c=e.data.data.id;n.A.set("adminId",c,{secure:!0,sameSite:"strict"}),s()}return e.data}catch(e){throw console.log("error",e),e}},l=async()=>{try{return(await o.get("".concat(r,"/organization"))).data}catch(a){throw a}},d=async a=>{try{return(await o.get("".concat(r,"/organization/").concat(a))).data}catch(e){throw e}},h=async a=>{try{return(await o.post("".concat(r,"/organization"),a)).data}catch(e){throw e}},u=async a=>{try{return(await o.delete("".concat(r,"/organization/").concat(a))).data}catch(e){throw e}},m=async(a,e)=>{try{return(await o.patch("".concat(r,"/organization/").concat(a),e)).data}catch(t){throw t}},y=async()=>{try{return(await o.get("".concat(r,"/teacher"))).data}catch(a){throw a}},w=async a=>{try{return(await o.get("".concat(r,"/teacher/by-organization/").concat(a))).data}catch(e){throw e}},p=async a=>{try{return(await o.post("".concat(r,"/teacher"),a)).data}catch(e){throw e}},x=async a=>{try{return(await o.delete("".concat(r,"/teacher/").concat(a))).data}catch(e){throw e}},g=async(a,e)=>{try{return(await o.patch("".concat(r,"/teacher/").concat(a),e)).data}catch(t){throw t}},_=async()=>{try{return(await o.get("".concat(r,"/levels"))).data}catch(a){throw a}},b=async a=>{try{return(await o.post("".concat(r,"/levels"),a)).data}catch(e){throw e}},j=async a=>{try{return(await o.delete("".concat(r,"/levels/").concat(a))).data}catch(e){throw e}},v=async(a,e)=>{try{return(await o.patch("".concat(r,"/levels/").concat(a),e)).data}catch(t){throw t}},f=async a=>{try{return(await o.get("".concat(r,"/question/by_level/").concat(a))).data}catch(e){throw e}},T=async a=>{try{return(await o.post("".concat(r,"/question"),a)).data}catch(e){throw e}},S=async a=>{try{return(await o.delete("".concat(r,"/question/").concat(a))).data}catch(e){throw e}},z=async(a,e)=>{try{return(await o.patch("".concat(r,"/question/").concat(a),e)).data}catch(t){throw t}},P=async a=>{try{return(await o.get("".concat(r,"/student"))).data}catch(e){throw e}},C=async a=>{try{return(await o.get("".concat(r,"/student/organization/").concat(a))).data}catch(e){throw e}},N=async a=>{try{return(await o.post("".concat(r,"/student"),a)).data}catch(e){throw e}},A=async a=>{try{return(await o.delete("".concat(r,"/student/").concat(a))).data}catch(e){throw e}},R=async(a,e)=>{try{return(await o.patch("".concat(r,"/student/").concat(a),e)).data}catch(t){throw t}},O=async()=>{try{return(await o.get("".concat(r,"/exam"))).data}catch(a){throw a}},k=async a=>{try{return(await o.get("".concat(r,"/exam/").concat(a))).data}catch(e){throw e}},H=async a=>{try{return(await o.get("".concat(r,"/exam/get-exam-student-by-exam-id/").concat(a))).data}catch(e){throw e}},I=async a=>{try{return(await o.delete("".concat(r,"/exam/removed-student-from-exam/").concat(a))).data}catch(e){throw e}},q=async a=>{try{return(await o.delete("".concat(r,"/exam/removed-question-from-exam/").concat(a))).data}catch(e){throw e}},F=async a=>{try{return(await o.post("".concat(r,"/exam"),a)).data}catch(e){throw e}},B=async a=>{try{return(await o.delete("".concat(r,"/exam/").concat(a))).data}catch(e){throw e}},E=async(a,e)=>{try{return(await o.patch("".concat(r,"/exam/").concat(a),e)).data}catch(t){throw t}},G=async a=>{try{return(await o.get("".concat(r,"/exam/by-organization-id-for-admin/").concat(a))).data}catch(e){throw e}},U=async a=>{try{return(await o.get("".concat(r,"/exam/get-exam-qestion-by-exam-id/").concat(a))).data}catch(e){throw e}},Q=async a=>{try{return(await o.post("".concat(r,"/exam/add-exam-student"),a)).data}catch(e){throw e}},D=async a=>{try{return(await o.post("".concat(r,"/exam/organization-student-not-exit"),a)).data}catch(e){throw e}},V=async a=>{try{return(await o.post("".concat(r,"/exam/question-not-exit"),a)).data}catch(e){throw e}},Y=async a=>{try{return(await o.post("".concat(r,"/exam/add-exam-question"),a)).data}catch(e){throw e}},L=async a=>{try{return(await o.get("".concat(r,"/exam/schedule-exam/").concat(a))).data}catch(e){throw e}},M=async a=>{try{return(await o.get("".concat(r,"/exam-submission/by-examination-id/").concat(a))).data}catch(e){throw e}},K=async a=>{try{return(await o.post("".concat(r,"/exam/update-student-certificate"),a)).data}catch(e){throw e}},W=async a=>{try{return(await o.get("".concat(r,"/exam/update-student-certificate-generate/").concat(a))).data}catch(e){throw e}},$=async a=>{try{return(await o.get("".concat(r,"/exam/recent/dashboard"))).data}catch(e){throw e}},J=async a=>{try{return(await o.post("".concat(r,"/question/bulk"),a)).data}catch(e){throw e}}},84718:(a,e,t)=>{t.d(e,{A:()=>d});var c=t(65043),n=t(71094),r=t(61270),o=t(68155),s=t(64196),i=t(11238),l=t(70579);const d=a=>{let{columns:e,data:t,name:d}=a;const{getTableProps:h,getTableBodyProps:u,headerGroups:m,prepareRow:y,page:w,state:{pageIndex:p,pageSize:x,globalFilter:g},setGlobalFilter:_,gotoPage:b,nextPage:j,previousPage:v,canNextPage:f,canPreviousPage:T}=(0,n.useTable)({columns:e,data:t,initialState:{pageIndex:0,pageSize:10}},n.useGlobalFilter,n.useSortBy,n.usePagination);return(0,l.jsxs)("div",{className:"data-table-container",children:[(0,l.jsx)("h5",{children:d||""}),(0,l.jsxs)("div",{className:"data-table-header",children:[(0,l.jsxs)("div",{className:"search-box-container",children:[(0,l.jsx)(r.A,{type:"text",value:g||"",onChange:a=>_(a.target.value),placeholder:"Search..."}),(0,l.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"})]}),(0,l.jsx)(o.A,{onClick:()=>(()=>{const a=t.map((a=>e.reduce(((e,t)=>(e[t.Header]=a[t.accessor],e)),{}))),c=i.Wp.json_to_sheet(a),n=i.Wp.book_new();i.Wp.book_append_sheet(n,c,"Sheet 1"),i._h(n,"data.xlsx")})(),variant:"success",className:"download_excel",style:{color:"white"},children:"Download Excel"})]}),(0,l.jsx)("div",{className:"table-wrapper",children:(0,l.jsxs)(s.A,{...h(),bordered:!0,hover:!0,responsive:!0,children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Sr. No."}),m.map((a=>(0,l.jsx)(c.Fragment,{children:a.headers.map((a=>(0,l.jsxs)("th",{...a.getHeaderProps(a.getSortByToggleProps()),children:[a.render("Header"),(0,l.jsx)("span",{children:a.isSorted?a.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""})]},a._id)))},a._id)))]})}),(0,l.jsx)("tbody",{...u(),children:w.map(((a,e)=>(y(a),(0,l.jsxs)("tr",{...a.getRowProps(),children:[(0,l.jsx)("td",{children:p*x+e+1}),a.cells.map((a=>(0,l.jsx)("td",{...a.getCellProps(),children:a.render("Cell")},a.column._id)))]},a._id))))})]})}),(0,l.jsxs)("div",{className:"pagination-controls",children:[(0,l.jsx)("button",{onClick:()=>b(0),disabled:!T,children:"<<"}),(0,l.jsx)("button",{onClick:()=>v(),disabled:!T,children:"<"}),(0,l.jsx)("button",{onClick:()=>j(),disabled:!f,children:">"}),(0,l.jsx)("button",{onClick:()=>b(w.length-1),disabled:!f,children:">>"}),(0,l.jsxs)("span",{children:["\xa0Page ",(0,l.jsx)("strong",{children:p+1})," of ",Math.ceil(t.length/x)," pages | Showing ",t.length," Records"]})]})]})}},64237:(a,e,t)=>{t.d(e,{A:()=>r});t(65043);var c=t(93946),n=t(70579);const r=a=>{let{customStyles:e,title:t}=a;return(0,n.jsx)(c.sK,{children:(0,n.jsx)(c.UF,{xs:12,children:(0,n.jsxs)(c.E$,{className:"mb-4",children:[(0,n.jsx)(c.V0,{children:(0,n.jsx)("strong",{children:t})}),(0,n.jsx)(c.W6,{children:e?e():null})]})})})}},18718:(a,e,t)=>{t.r(e),t.d(e,{default:()=>y});var c=t(65043),n=t(85369),r=t(93946),o=t(84718),s=t(64237),i=t(16027),l=t(42145),d=(t(2574),t(30064)),h=t.n(d),u=t(8588),m=t(70579);const y=function(a){console.log("props",a);const[e,t]=(0,c.useState)([]),[d,y]=(0,c.useState)(null),[w,p]=(0,c.useState)("Add Teacher"),[x,g]=(0,c.useState)(!1),[_,b]=(0,c.useState)(!1),[j,v]=(0,c.useState)({name:"",email:"",mobile_number:"",is_type:null,is_type_value:null,file:null,organization_value:null,organization_id:null});(0,c.useEffect)((()=>{P(),z()}),[]);const[f]=(0,c.useState)([{value:"Principal",label:"Principal"},{value:"HOD",label:"HOD"},{value:"Teacher",label:"Teacher"}]),[T,S]=(0,c.useState)([]),z=async()=>{if(a.id){const e=await(0,i.VR)(a.id);e.success&&t(e.data)}else{const a=await(0,i.Rs)();console.log(a),a.success&&t(a.data)}},P=async()=>{const a=await(0,i.QQ)();console.log(a),a.success&&(a.data.map((a=>{a.label=a.name,a.value=a._id})),S(a.data))},C=[{Header:"Organization Name",accessor:"organization_id.name"},{Header:"Teacher Name",accessor:"name"},{Header:"Teacher Email",accessor:"email"},{Header:"Teacher Mobile Number",accessor:"mobile_number"},{Header:"Role",accessor:"is_type"},{Header:"Actions",accessor:"_id",Cell:a=>{let{row:t}=a;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(r.Q_,{color:"info",size:"sm",style:{color:"white"},onClick:()=>(a=>{p("Update Teacher");const t=e.find((e=>e._id===a));y(t._id),v({name:t.name,email:t.email,mobile_number:t.mobile_number,is_type_value:{value:t.is_type,label:t.is_type},is_type:t.is_type,organization_value:{value:t.organization_id._id,label:t.organization_id.name},organization_id:t.organization_id._id,file:null})})(t.original._id),children:[(0,m.jsx)(n.uO9,{})," Edit"]})," ",(0,m.jsxs)(r.Q_,{color:"danger",size:"sm",style:{color:"white"},onClick:()=>(async a=>{if((await h().fire({title:"Are you sure?",text:"You will not be able to recover this teacher!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{const e=await(0,i.wr)(a);e.success&&(l.oR.success(e.message,{position:l.oR.POSITION.TOP_RIGHT,autoClose:3e3}),z())}catch(e){l.oR.error(e.message,{position:l.oR.POSITION.TOP_RIGHT,autoClose:3e3})}})(t.original._id),children:[(0,m.jsx)(n.qbC,{})," Delete"]})]})}}];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.A,{customStyles:()=>{const e=(0,c.useRef)(),t=a=>{const{name:e,value:t,files:c}=a.target;v((a=>({...a,[e]:"file"===e?c[0]:t})))};return(0,m.jsxs)(r.qI,{ref:e,className:"row g-3 needs-validation",noValidate:!0,onSubmit:async t=>{t.preventDefault(),t.stopPropagation();const c=e.current;if(!1===c.checkValidity())return c.classList.add("was-validated"),""==j.is_type||null==j.is_type?void g(!0):""==j.organization_id||null==j.organization_id?void b(!0):void 0;let n=null;console.log(j),a.id&&(j.organization_id=a.id),d?n=await(0,i.HJ)(d,j):(n=await(0,i.Yw)(j),y(null)),n.success?(l.oR.success(n.message,{position:l.oR.POSITION.TOP_RIGHT,autoClose:3e3}),z(),p("Add Teacher"),v({name:"",email:"",mobile_number:"",address:"",is_type_value:null,is_type:null,file:null,organization_value:null,organization_id:null}),c.classList.remove("was-validated")):l.oR.error(n.message,{position:l.oR.POSITION.TOP_RIGHT,autoClose:3e3})},children:[(0,m.jsxs)(r.UF,{md:4,children:[(0,m.jsx)(r.A6,{children:"Name"}),(0,m.jsx)(r.OG,{type:"text",placeholder:"Enter Name",name:"name",required:!0,value:j.name,onChange:t}),(0,m.jsx)(r.To,{invalid:!0,children:"Please enter name"})]}),(0,m.jsxs)(r.UF,{md:4,children:[(0,m.jsx)(r.A6,{children:"Email"}),(0,m.jsx)(r.OG,{type:"email",name:"email",placeholder:"Enter Email",required:!0,value:j.email,onChange:t}),(0,m.jsx)(r.To,{invalid:!0,children:"Please enter email"})]}),(0,m.jsxs)(r.UF,{md:4,children:[(0,m.jsx)(r.A6,{children:"Mobile Number"}),(0,m.jsx)(r.OG,{type:"number",name:"mobile_number",placeholder:"Enter Mobile Number",required:!0,value:j.mobile_number,onChange:t}),(0,m.jsx)(r.To,{invalid:!0,children:"Please enter mobile number"})]}),(0,m.jsxs)(r.UF,{md:4,children:[(0,m.jsx)(r.A6,{children:"Select Type"}),(0,m.jsx)(u.Ay,{name:"is_type",value:j.is_type_value,options:f,onChange:a=>{console.log(a),v((e=>({...e,is_type_value:a,is_type:a.value}))),g(!1)},placeholder:"Select Type",required:!0}),(0,m.jsxs)(r.To,{className:"text-danger",style:{fontSize:"14px"},children:[" ",x?"Please select type":""]})]}),a.id?null:(0,m.jsxs)(r.UF,{md:4,children:[(0,m.jsx)(r.A6,{children:"Select Organization"}),(0,m.jsx)(u.Ay,{name:"is_type",value:j.organization_value,options:T,onChange:a=>{console.log(a),v((e=>({...e,organization_value:a,organization_id:a.value}))),b(!1)},placeholder:"Select Type",required:!0}),(0,m.jsxs)(r.To,{className:"text-danger",style:{fontSize:"14px"},children:[" ",_?"Please select organization":""]})]}),(0,m.jsx)(r.UF,{xs:12,className:"d-flex justify-content-end",children:(0,m.jsx)(r.Q_,{color:"primary",type:"submit",children:w})})]})},title:"Teacher Master"}),(0,m.jsx)(o.A,{columns:C,data:e})]})}}}]);
//# sourceMappingURL=8718.64a4359d.chunk.js.map